angular.module("LoginModule",[]).factory("Login",["Resource",function(r){return r("login")}]).controller("LoginCtrl",["$scope","$location","Login","Language","Credentials",function(r,o,n,e,t){r.loginSubmit=function(){var i=r.user;n.post({login:i.name,password:i.password}).then(function(r){console.log(r),r.error?(t.setError(r.error),console.log(t.getError())):(t.setUser(r.data.user,r.data.role),o.path(e.getLanguage()))})},r.isAuthenticated=function(){return t.isAuthenticated()},r.isError=function(){return t.isError()},r.getError=function(){return t.getError()}}]);