angular.module("LoginModule",[]).provider("Credentials",function(){var r,n=!1,t=!1;return{$get:function(){return{setUser:function(t,o){n=t,r=o,this.setError(!1)},getUser:function(){return n},getRole:function(){return r},isAuthenticated:function(){return n?!0:!1},setError:function(r){t=r},getError:function(){return t},isError:function(){return t?!0:!1}}}}}).factory("Login",["Resource",function(r){return r("login")}]).controller("LoginCtrl",["$scope","Login","Credentials",function(r,n,t){r.loginSubmit=function(){var o=r.user;n.post({login:o.name,password:o.password}).then(function(r){r.error?(t.setError(r.error),console.log(t.getError())):(t.setUser(r.data.user,r.data.role),console.log("oke"))})},r.isAuthenticated=function(){return t.isAuthenticated()},r.isError=function(){return t.isError()},r.getError=function(){return t.getError()}}]);