angular.module("LoginModule",[]).provider("Credentials",function(){var r,n=!1,t=!1;return{$get:function(){return{setUser:function(t,e){n=t,r=e,this.setError(!1)},getUser:function(){return n},getRole:function(){return r},isAuthenticated:function(){return n?!0:!1},setError:function(r){t=r},getError:function(){return t},isError:function(){return t?!0:!1}}}}}).factory("Login",["Resource",function(r){return r("login")}]).controller("LoginCtrl",["$scope","$location","Login","Language","Credentials",function(r,n,t,e,o){r.loginSubmit=function(){var u=r.user;t.post({login:u.name,password:u.password}).then(function(r){r.error?(o.setError(r.error),console.log(o.getError())):(o.setUser(r.data.user,r.data.role),n.path(e.getLanguage()))})},r.isAuthenticated=function(){return o.isAuthenticated()},r.isError=function(){return o.isError()},r.getError=function(){return o.getError()}}]);