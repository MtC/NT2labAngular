angular.module("OptionsModule",[]).factory("ToDo",["Resource",function(o){return o("todo")}]).controller("OptionsCtrl",["$scope","Credentials",function(o,t){o.isAuthenticated=function(){return t.isAuthenticated()}}]).controller("TodoCtrl",["$scope","$location","ToDo",function(o,t,n){o.todos=[],o.toggled=[],o.sortField="name",o.reverse=!1,o.todoAddSubmit=!0,o.isToggledTodo=function(t){return o.toggled[t]},o.toggleTodo=function(t,n){o.toggled[t]=""!==n.description?!o.toggled[t]:!1},o.sortBy=function(t){o.sortField===t?o.reverse=!o.reverse:(o.sortField=t,o.reverse=!1)},o.go=function(o){t.path(o)},n.query().then(function(t){o.todos=t.data}),o.submitForm=function(t){console.log(t),n.post(t).then(function(t){console.log(t),o.todos.push(t.data[0]),o.todoAddSubmit=!1})},o.todoOnOff=function(t,e){n.setId(t.id),"removed"===e?n.put({action:"removed"}).then(function(){o.todos.splice(o.todos.indexOf(t),1)}):"priority"===e?n.put({action:"priority"}).then(function(n){o.todos[o.todos.indexOf(t)].priority=n.data.priority}):"done"===e&&n.put({action:"done"}).then(function(n){o.todos[o.todos.indexOf(t)].done=n.data.done})},o.canSave=function(){return o.formTodo.$valid}}]);