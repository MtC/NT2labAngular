angular.module("OptionsModule",[]).factory("ToDo",["Resource",function(o){return o("todo")}]).controller("OptionsCtrl",[]).controller("TodoCtrl",["$scope","ToDo",function(o,t){o.todos=[],t.query().then(function(t){o.todos=t.data}),o.addTodo=function(n,d,e,i){console.log(n+":"+d+":"+e+":"+i),t.post({name:n}).then(function(t){o.todos.push(t.data[0])})},o.submitForm=function(o){console.log(o),t.post(o).then(function(o){console.log(o)})},o.todoOnOff=function(n,d){t.setId(n.id),"removed"===d?t.put({action:"removed"}).then(function(t){o.todos.splice(o.todos.indexOf(t),1)}):"priority"===d?t.put({action:"priority"}).then(function(t){o.todos[o.todos.indexOf(n)].priority=t.data.priority}):"done"===d&&t.put({action:"done"}).then(function(t){o.todos[o.todos.indexOf(n)].done=t.data.done})},o.canSave=function(){return o.formTodo.$valid}}]);