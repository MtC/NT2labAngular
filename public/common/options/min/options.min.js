angular.module("OptionsModule",[]).factory("ToDo",["Resource",function(o){return o("todo")}]).controller("OptionsCtrl",["$scope","Credentials",function(o,t){o.isAuthenticated=function(){return t.isAuthenticated()}}]).controller("TodoCtrl",["$scope","ToDo","Navigation",function(o,t,e){o.todos=[],o.toggled=[],o.sortField="done_by",o.todoAddSubmit=!0,o.toDo={priority:!1},o.isToggledTodo=function(t){return o.toggled[t]},o.toggleTodo=function(t){o.toggled[t]=!o.toggled[t]},o.sortBy=function(t){o.sortField===t?o.sortFieldReverse=!o.sortFieldReverse:(o.sortField=t,o.sortFieldReverse=!1)},o.dater=function(){return"nl"===e.getLanguage()?"dd-MM-yyyy":"yyyy-MM-dd"},o.checkboxed=function(){o.toDo.priority=!o.toDo.priority},o.resetForm=function(){o.toDo={priority:!1},o.formTodo.$setPristine()},o.go=function(o){e.go(o)},t.query().then(function(t){o.todos=t.data}),o.changeTodo=function(){console.log("test"),e.go(e.getLanguage()+"/"+e.getMenuItem("menu.options.url")+"/"+e.getMenuItem("options.todo.change-todo"))},o.addTodo=function(o){console.log(o),t.post(o).then(function(o){console.log(o),e.go(e.getLanguage()+"/"+e.getMenuItem("menu.options.url")+"/"+e.getMenuItem("options.todo.url"))})},o.todoOnOff=function(e,n){t.setId(e.id),"removed"===n?t.put({action:"removed"}).then(function(){o.todos.splice(o.todos.indexOf(e),1)}):"priority"===n?t.put({action:"priority"}).then(function(t){o.todos[o.todos.indexOf(e)].priority=t.data.priority}):"done"===n&&t.put({action:"done"}).then(function(t){o.todos[o.todos.indexOf(e)].done=t.data.done})},o.canSave=function(){return o.formTodo.$valid}}]).controller("LanguageCtrl",["$scope","Navigation",function(o,t){o.go=function(o){t.setLanguage(o),console.log("/"+o+"/"+t.getMenuItem("menu.options.url")+"/"+t.getMenuItem("options.todo.url")),t.go("/"+o+"/"+t.getMenuItem("menu.options.url")+"/"+t.getMenuItem("options.language.url"))}}]);