angular.module("TokenModule",[]).provider("Credentials",function(){var e=!1,r={bError:!1,sError:""},n={token:!1,xsrf:!1,user:!1,role:!1,save:function(){e&&sessionStorage.setItem("credentials",JSON.stringify(n))}};return{setBoolSessionStorage:function(r){e=r},setTokensSessionStorage:function(){if(sessionStorage.getItem("credentials")){var e=JSON.parse(sessionStorage.getItem("credentials"));n.token=e.token?e.token:!1,n.xsrf=e.xsrf?e.xsrf:!1,n.user=e.user?e.user:!1,n.role=e.role?e.role:!1}else sessionStorage.setItem("credentials",JSON.stringify(n))},getCredentials:function(){return n},$get:function(){return{isSessionStorage:function(){return e},setUser:function(e,r){n.user=e,n.role=r},setTokens:function(e,r){n.token=e||!1,n.xsrf=r||!1},getHeaders:function(){var e={token:n.token,xsrf:n.xsrf};return e},isAuthenticated:function(){return n.user?!0:!1},isError:function(){return r.bError},getError:function(){return this.isError()?r.sError:""},saveToSession:function(){e&&sessionStorage.setItem("credentials",JSON.stringify(n))},getCredentials:function(){return n}}}}}).config(function(e){window.sessionStorage&&(e.setBoolSessionStorage(!0),e.setTokensSessionStorage())});