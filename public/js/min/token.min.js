angular.module("TokenModule",[]).provider("Credentials",function(){var e=!1,r={bError:!1,sError:""},s={token:!1,xsrf:!1,user:!1,role:!1,save:function(){e&&sessionStorage.setItem("credentials",JSON.stringify(s))}};return{setBoolSessionStorage:function(r){e=r},setTokensSessionStorage:function(){if(sessionStorage.getItem("credentials")){var e=JSON.parse(sessionStorage.getItem("credentials"));s.token=e.token?e.token:!1,s.xsrf=e.xsrf?e.xsrf:!1,s.user=e.user?e.user:!1,s.role=e.role?e.role:!1}else sessionStorage.setItem("credentials",JSON.stringify(s))},getCredentials:function(){return s},$get:function(){return{isSessionStorage:function(){return e},setUser:function(e,r){s.user=e,s.role=r},setTokens:function(e,r){s.token=e||!1,s.xsrf=r||!1},getHeaders:function(){var e={token:s.token,xsrf:s.xsrf};return e},isAuthenticated:function(){return s.user?!0:!1},isError:function(){return r.bError},getError:function(){return this.isError()?r.sError:""},saveToSession:function(){e&&sessionStorage.setItem("credentials",JSON.stringify(s))}}}}}).config(function(e){window.sessionStorage&&(e.setBoolSessionStorage(!0),e.setTokensSessionStorage())});